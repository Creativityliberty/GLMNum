<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GLM v3.0 - Symbolic Transformation System âˆ†âˆÎŸ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>ğŸ¯ GLM Prototype v3.0</h1>
                <p>General Language Model - Symbolic System âˆ†âˆÎŸ</p>
                <p class="subtitle">Transform concepts across domains: Code â†” Text â†” Image â†” Geometry</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Mode Tabs -->
            <section class="section">
                <div class="mode-tabs">
                    <button class="tab-button active" onclick="switchMode('transform')">
                        ğŸ”„ Transform Mode
                    </button>
                    <button class="tab-button" onclick="switchMode('chat')">
                        ğŸ’¬ Chat Mode
                    </button>
                </div>
            </section>

            <!-- Transform Mode Content -->
            <div id="transformMode" class="mode-content">
                <!-- Domain Selector -->
                <section class="section">
                    <h2>ğŸ“Š Select Domains</h2>
                <div class="domain-selectors">
                    <div class="domain-selector">
                        <label for="sourceDomain">Source Domain:</label>
                        <select id="sourceDomain" title="Select source domain for transformation">
                            <option value="text">ï¿½ Text (Natural Language)</option>
                            <option value="code">ï¿½ Code (Python AST)</option>
                            <option value="geometry">ï¿½ Geometry (Triangle, Circle, Polygon)</option>
                            <option value="image">ğŸ–¼ï¸ Image (Visual Features)</option>
                        </select>
                    </div>
                    <div class="domain-selector">
                        <label for="targetDomain">Target Domain:</label>
                        <select id="targetDomain" title="Select target domain for transformation">
                            <option value="text">ğŸ“ Text (Natural Language)</option>
                            <option value="code">ğŸ’» Code (Python AST)</option>
                            <option value="geometry">ğŸ”º Geometry (Triangle, Circle, Polygon)</option>
                            <option value="image">ğŸ–¼ï¸ Image (Visual Features)</option>
                        </select>
                    </div>
                    <div class="domain-selector">
                        <label for="embeddingMode">ğŸ§  Embedding Mode:</label>
                        <select id="embeddingMode" title="Select embedding algorithm for âˆ†âˆÃ“ scoring">
                            <option value="heuristic">âš¡ Heuristic (Fast, Rule-based)</option>
                            <option value="numtriad">ğŸ”¥ NumTriad (Neural, Advanced)</option>
                            <option value="auto">ğŸ¯ Auto (Best Available)</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- Input Panel -->
            <section class="section">
                <h2>âœï¸ Input Content</h2>
                <div class="input-panel">
                    <div id="inputContainer" class="input-container">
                        <!-- Dynamic input based on domain -->
                        <textarea id="textInput" placeholder="Enter text..." class="input-field"></textarea>
                    </div>
                    <button id="transformBtn" class="btn btn-primary">ğŸ”„ Transform</button>
                </div>
            </section>

            <!-- Results Panel -->
            <section class="section">
                <h2>ğŸ“Š Results</h2>
                <div class="results-panel">
                    <div class="result-item">
                        <h3>Transformed Content</h3>
                        <div id="resultContent" class="result-content">
                            <p class="placeholder">Results will appear here...</p>
                        </div>
                    </div>

                    <div class="result-item">
                        <h3>Symbolic Representation âˆ†âˆÎŸ</h3>
                        <div id="symbolicInfo" class="symbolic-info">
                            <p class="placeholder">Symbolic data will appear here...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Symbolic Visualization -->
            <section class="section">
                <h2>ğŸ” Symbolic Visualization</h2>
                <div class="visualization-panel">
                    <div class="symbolic-view">
                        <div class="symbolic-component">
                            <h4>âˆ† (Delta) - Essence</h4>
                            <div id="deltaView" class="component-view">
                                <div class="placeholder-bar"></div>
                                <p>Norm: <span id="deltaNorm">-</span></p>
                            </div>
                        </div>
                        <div class="symbolic-component">
                            <h4>âˆ (Infinity) - Process</h4>
                            <div id="infinityView" class="component-view">
                                <canvas id="graphCanvas" width="200" height="200"></canvas>
                                <p>Nodes: <span id="infinityNodes">-</span> | Edges: <span id="infinityEdges">-</span></p>
                            </div>
                        </div>
                        <div class="symbolic-component">
                            <h4>ÎŸ (Omega) - Completeness</h4>
                            <div id="omegaView" class="component-view">
                                <div class="placeholder-bar"></div>
                                <p>Norm: <span id="omegaNorm">-</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Similarity Analysis -->
            <section class="section">
                <h2>ğŸ“ˆ Similarity Analysis</h2>
                <div class="similarity-panel">
                    <div class="similarity-input">
                        <textarea id="similarityInput1" placeholder="First content..." class="similarity-field"></textarea>
                        <textarea id="similarityInput2" placeholder="Second content..." class="similarity-field"></textarea>
                        <button id="similarityBtn" class="btn btn-secondary">Calculate Similarity</button>
                    </div>
                    <div id="similarityResult" class="similarity-result">
                        <p class="placeholder">Similarity results will appear here...</p>
                    </div>
                </div>
            </section>

            <!-- API Status -->
            <section class="section">
                <h2>ğŸ”Œ API Status</h2>
                <div class="api-status">
                    <div id="apiStatus" class="status-indicator">
                        <span class="status-dot"></span>
                        <span id="statusText">Checking...</span>
                    </div>
                    <div id="apiInfo" class="api-info">
                        <p class="placeholder">API information will appear here...</p>
                    </div>
                </div>
            </section>
            </div>

            <!-- Chat Mode Content -->
            <div id="chatMode" class="mode-content hidden">
                <!-- Chat Interface -->
                <section class="section">
                    <h2>ğŸ’¬ GLM Chat Interface</h2>
                    <div class="chat-container">
                        <div class="chat-messages" id="chatMessages">
                            <div class="system-message">
                                ğŸ‰ Welcome to GLM v3.0 Chat Interface!
                                <br>Type 'help' for available commands or start with a command like:
                                <br><code>transform 'hello world' from text to code</code>
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <div class="input-group">
                                <span class="chat-prompt">ğŸ¤– GLM&gt;</span>
                                <input 
                                    type="text" 
                                    id="chatInput" 
                                    class="chat-input" 
                                    placeholder="Enter command (e.g., transform 'hello' from text to code)"
                                    onkeypress="handleChatKeyPress(event)"
                                >
                                <button id="sendChatBtn" class="send-btn" onclick="sendChatMessage()">
                                    Send
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Chat Help -->
                <section class="section">
                    <h3>ğŸ“– Available Commands</h3>
                    <div class="command-help">
                        <div class="command-group">
                            <h4>ğŸ”„ Transformation</h4>
                            <code>transform &lt;text&gt; from &lt;domain1&gt; to &lt;domain2&gt;</code>
                            <p>Example: <code>transform 'hello world' from text to code</code></p>
                        </div>
                        <div class="command-group">
                            <h4>ğŸ“Š Similarity</h4>
                            <code>similarity &lt;text1&gt; vs &lt;text2&gt; in &lt;domain&gt;</code>
                            <p>Example: <code>similarity 'cat on mat' vs 'feline on rug' in text</code></p>
                        </div>
                        <div class="command-group">
                            <h4>ğŸ” Analysis</h4>
                            <code>analyze &lt;text&gt; in &lt;domain&gt;</code>
                            <p>Example: <code>analyze 'triangle' in geometry</code></p>
                        </div>
                        <div class="command-group">
                            <h4>ğŸ“š System</h4>
                            <code>list domains</code> - Show available domains<br>
                            <code>help</code> - Show this help<br>
                            <code>clear</code> - Clear chat history
                        </div>
                    </div>
                </section>

                <!-- Unified System Section -->
                <section class="section">
                    <h2>ğŸš€ Unified System (Complete Integration)</h2>
                    
                    <div class="unified-container">
                        <h3>Search & Answer with Triad-Aware Context</h3>
                        
                        <div class="unified-input">
                            <textarea 
                                id="unifiedQuery" 
                                class="unified-textarea"
                                placeholder="Enter your question or search query...
Example: How to deploy an API in production?
Example: What is artificial intelligence?"
                            ></textarea>
                        </div>
                        
                        <div class="unified-buttons">
                            <button id="unifiedSearchBtn" class="btn btn-primary">ğŸ” Search</button>
                            <button id="unifiedAnswerBtn" class="btn btn-success">ğŸ’¬ Generate Answer</button>
                        </div>
                        
                        <div id="unifiedResults" class="unified-results hidden"></div>
                        <div id="unifiedAnswer" class="unified-answer hidden"></div>
                    </div>
                </section>
            </div>
        </main>

        <!-- DeepTriad Analyzer (Pilier 3) -->
            <section class="section deeptriad-section">
                <h2>ğŸ§  DeepTriad Transformer (Pilier 3)</h2>
                <p class="section-desc">Analyze text sequences with DeepTriad Transformer to predict abstraction levels</p>
                
                <div class="deeptriad-container">
                    <div class="deeptriad-input">
                        <label for="deeptriadChunks">ğŸ“ Text Chunks (one per line):</label>
                        <textarea 
                            id="deeptriadChunks" 
                            class="deeptriad-textarea"
                            placeholder="Enter text chunks, one per line&#10;Example:&#10;Concept thÃ©orique abstrait&#10;Formalisation mathÃ©matique&#10;Application pratique"
                        ></textarea>
                        <button id="deeptriadBtn" class="btn btn-primary">ğŸ” Analyze with DeepTriad</button>
                    </div>
                    
                    <div id="deeptriadResult" class="deeptriad-result hidden">
                        <h3>ğŸ“Š DeepTriad Analysis Results</h3>
                        
                        <div class="triad-scores">
                            <div class="score-item">
                                <label>âˆ† (Delta) - Complexity:</label>
                                <div class="score-bar">
                                    <div id="deltaBar" class="score-fill"></div>
                                </div>
                                <span id="deltaValue">0.00</span>
                            </div>
                            
                            <div class="score-item">
                                <label>âˆ (Infinity) - Generality:</label>
                                <div class="score-bar">
                                    <div id="infinityBar" class="score-fill"></div>
                                </div>
                                <span id="infinityValue">0.00</span>
                            </div>
                            
                            <div class="score-item">
                                <label>Î˜ (Theta) - Concreteness:</label>
                                <div class="score-bar">
                                    <div id="thetaBar" class="score-fill"></div>
                                </div>
                                <span id="thetaValue">0.00</span>
                            </div>
                        </div>
                        
                        <div class="abstraction-level">
                            <h4>Abstraction Level:</h4>
                            <div id="abstractionBadge" class="badge badge-mixed">Mixed</div>
                        </div>
                        
                        <div class="deeptriad-insights">
                            <h4>ğŸ“ˆ Insights:</h4>
                            <ul id="insightsList">
                                <li>Complexity: <span id="insightComplexity">-</span></li>
                                <li>Generality: <span id="insightGenerality">-</span></li>
                                <li>Concreteness: <span id="insightConcreteness">-</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>GLM Prototype v3.0 | Symbolic System âˆ†âˆÎŸ | <a href="mailto:numtemalionel@gmail.com">Contact</a></p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="app.js"></script>
</body>
</html>
